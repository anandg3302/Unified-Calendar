{"dependencies":[{"name":"../../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":75,"index":90}}],"key":"ByXat9lt9duIJLDmSeH0V+tRq1s=","exportNames":["*"],"imports":1}},{"name":"../animationParser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":91},"end":{"line":4,"column":64,"index":155}}],"key":"NS2upIa4aHN1XdKmQKcusYkE9o0=","exportNames":["*"],"imports":1}},{"name":"../domUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":156},"end":{"line":5,"column":96,"index":252}}],"key":"A8YcxzRDiHIujPKtuiY+Inkf/08=","exportNames":["*"],"imports":1}},{"name":"../keyframes","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":253},"end":{"line":6,"column":52,"index":305}}],"key":"mxvMhs55oq9jgpEsSFkkE4J0Ers=","exportNames":["*"],"imports":1}},{"name":"../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":306},"end":{"line":7,"column":65,"index":371}}],"key":"mL7nJyZhzUYx+zMcIt1cBzVuRps=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"default\",{enumerable:!0,get:function(){return h}});var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),l=r(d[4]);const c=t=>'object'==typeof t&&'processedKeyframes'in t;class h{attachedAnimations={};constructor(t){(0,o.configureWebCSSAnimations)(),this.element=t}update(o){if(!o)return void this.detach();const{animationName:l,...h}=(0,t.convertPropertiesToArrays)(o);if(0===l.length)return void this.detach();const u=l.map(t=>{if(c(t))return{keyframesRule:t,removable:!1};const o=t,l=(0,n.processKeyframeDefinitions)(o);return this.attachedAnimations[l]?{keyframesRule:this.attachedAnimations[l].keyframesRule,removable:!0}:{keyframesRule:new s.CSSKeyframesRuleImpl(o,l),removable:!0}}),y=u.map(({keyframesRule:{name:t}})=>t);this.updateAttachedAnimations(u),this.setElementAnimations(y,h)}unmountCleanup(){setTimeout(this.detach.bind(this))}detach(){const t=Object.values(this.attachedAnimations);0!==t.length&&(this.element.style.animationDuration='',this.element.style.animationDelay='',this.element.style.animationDirection='',this.element.style.animationFillMode='',this.element.style.animationPlayState='',this.element.style.animationTimingFunction='',t.forEach(({keyframesRule:{name:t,processedKeyframes:n},removable:s})=>{s&&n&&(0,o.removeCSSAnimation)(t)}),this.attachedAnimations={})}updateAttachedAnimations(t){const n={};t.forEach(t=>{const s=t.keyframesRule;s.processedKeyframes&&(0,o.insertCSSAnimation)(s.name,s.processedKeyframes),n[s.processedKeyframes]=t}),Object.values(this.attachedAnimations).forEach(({keyframesRule:t,removable:s})=>{s&&t.processedKeyframes&&!n[t.processedKeyframes]&&(0,o.removeCSSAnimation)(t.name)}),this.attachedAnimations=n}setElementAnimations(n,o){this.element.style.animationName=n.join(','),this.element.style.animationDuration=(0,l.maybeAddSuffixes)(o,'animationDuration','ms').join(','),this.element.style.animationDelay=(0,l.maybeAddSuffixes)(o,'animationDelay','ms').join(','),o.animationIterationCount&&(this.element.style.animationIterationCount=o.animationIterationCount.join(',')),o.animationDirection&&(this.element.style.animationDirection=o.animationDirection.map(t.kebabizeCamelCase).join(',')),o.animationFillMode&&(this.element.style.animationFillMode=o.animationFillMode.join(',')),o.animationPlayState&&(this.element.style.animationPlayState=o.animationPlayState.join(',')),o.animationTimingFunction&&(this.element.style.animationTimingFunction=(0,l.parseTimingFunction)(o.animationTimingFunction))}}});","lineCount":1,"map":[[1,28,1,0],[1,41,1,13,"Object"],[1,48,1,13,"defineProperty"],[1,63,1,13,"e"],[1,65,1,13],[1,79,1,13,"value"],[1,86,1,13],[1,90,9,15,"Object"],[1,97,9,15,"defineProperty"],[1,112,9,15,"e"],[1,114,9,15],[1,125,9,15,"enumerable"],[1,137,9,15],[1,139,9,15,"get"],[1,143,9,15],[1,161,9,15,"CSSAnimationsManager"],[1,162,9,15],[1,166,3,0],[1,170,3,0,"_utils"],[1,172,3,0,"r"],[1,174,3,0,"d"],[1,176,3,0],[1,180,4,0,"_animationParser"],[1,182,4,0,"r"],[1,184,4,0,"d"],[1,186,4,0],[1,190,5,0,"_domUtils"],[1,192,5,0,"r"],[1,194,5,0,"d"],[1,196,5,0],[1,200,6,0,"_keyframes"],[1,202,6,0,"r"],[1,204,6,0,"d"],[1,206,6,0],[1,210,7,0,"_utils2"],[1,212,7,0,"r"],[1,214,7,0,"d"],[1,216,7,0],[1,220,8,0],[1,226,8,6,"isCSSKeyframesRuleImpl"],[1,228,8,31,"keyframes"],[1,231,8,65],[1,248,8,51,"keyframes"],[1,251,8,77],[1,274,8,101,"keyframes"],[1,276,9,15],[1,282,9,21,"CSSAnimationsManager"],[1,284,11,2,"attachedAnimations"],[1,303,11,23],[1,304,11,24],[1,306,12,2,"constructor"],[1,318,12,14,"element"],[1,322,13,4],[1,324,13,4,"configureWebCSSAnimations"],[1,326,13,29,"configureWebCSSAnimations"],[1,355,14,4,"this"],[1,360,14,9,"element"],[1,368,14,19,"element"],[1,369,15,2],[1,370,16,2,"update"],[1,377,16,9,"animationProperties"],[1,380,17,4],[1,384,17,9,"animationProperties"],[1,386,19,6],[1,398,18,6,"this"],[1,403,18,11,"detach"],[1,412,21,4],[1,418,22,6,"animationName"],[1,432,22,21,"definitions"],[1,437,23,9,"animationSettings"],[1,441,24,8],[1,443,24,8,"convertPropertiesToArrays"],[1,445,24,33,"convertPropertiesToArrays"],[1,472,24,34,"animationProperties"],[1,475,25,4],[1,478,25,31],[1,482,25,8,"definitions"],[1,484,25,20,"length"],[1,491,27,6],[1,503,26,6,"this"],[1,508,26,11,"detach"],[1,517,29,4],[1,523,29,10,"processedAnimations"],[1,525,29,32,"definitions"],[1,527,29,44,"map"],[1,531,29,48,"definition"],[1,535,31,6],[1,538,31,10,"isCSSKeyframesRuleImpl"],[1,540,31,33,"definition"],[1,543,32,8],[1,549,32,15],[1,550,33,10,"keyframesRule"],[1,564,33,25,"definition"],[1,566,34,10,"removable"],[1,577,34,21],[1,580,39,6],[1,586,39,12,"keyframes"],[1,588,39,24,"definition"],[1,590,40,12,"processedKeyframes"],[1,593,40,33],[1,595,40,33,"processKeyframeDefinitions"],[1,597,40,59,"processKeyframeDefinitions"],[1,625,40,60,"keyframes"],[1,628,43,6],[1,635,43,10,"this"],[1,640,43,15,"attachedAnimations"],[1,659,43,34,"processedKeyframes"],[1,662,44,15],[1,663,45,10,"keyframesRule"],[1,677,45,25,"this"],[1,682,45,30,"attachedAnimations"],[1,701,45,49,"processedKeyframes"],[1,704,45,69,"keyframesRule"],[1,718,46,10,"removable"],[1,729,46,21],[1,732,51,13],[1,733,52,8,"keyframesRule"],[1,747,52,23],[1,751,52,27,"CSSKeyframesRuleImpl"],[1,753,52,47,"CSSKeyframesRuleImpl"],[1,774,52,48,"keyframes"],[1,776,52,59,"processedKeyframes"],[1,779,53,8,"removable"],[1,790,53,19],[1,795,56,10,"animationNames"],[1,797,56,27,"processedAnimations"],[1,799,56,47,"map"],[1,803,56,51],[1,805,57,6,"keyframesRule"],[1,820,58,8,"name"],[1,831,60,10,"name"],[1,834,61,4,"this"],[1,839,61,9,"updateAttachedAnimations"],[1,864,61,34,"processedAnimations"],[1,867,62,4,"this"],[1,872,62,9,"setElementAnimations"],[1,893,62,30,"animationNames"],[1,895,62,46,"animationSettings"],[1,897,63,2],[1,898,64,2,"unmountCleanup"],[1,915,67,4,"setTimeout"],[1,926,67,15,"this"],[1,931,67,20,"detach"],[1,938,67,27,"bind"],[1,943,67,32,"this"],[1,949,68,2],[1,950,69,2,"detach"],[1,959,70,4],[1,965,70,10,"attachedAnimations"],[1,967,70,31,"Object"],[1,974,70,38,"values"],[1,981,70,45,"this"],[1,986,70,50,"attachedAnimations"],[1,1006,71,38],[1,1010,71,8,"attachedAnimations"],[1,1012,71,27,"length"],[1,1021,74,4,"this"],[1,1026,74,9,"element"],[1,1034,74,17,"style"],[1,1040,74,23,"animationDuration"],[1,1058,74,43],[1,1061,75,4,"this"],[1,1066,75,9,"element"],[1,1074,75,17,"style"],[1,1080,75,23,"animationDelay"],[1,1095,75,40],[1,1098,76,4,"this"],[1,1103,76,9,"element"],[1,1111,76,17,"style"],[1,1117,76,23,"animationDirection"],[1,1136,76,44],[1,1139,77,4,"this"],[1,1144,77,9,"element"],[1,1152,77,17,"style"],[1,1158,77,23,"animationFillMode"],[1,1176,77,43],[1,1179,78,4,"this"],[1,1184,78,9,"element"],[1,1192,78,17,"style"],[1,1198,78,23,"animationPlayState"],[1,1217,78,44],[1,1220,79,4,"this"],[1,1225,79,9,"element"],[1,1233,79,17,"style"],[1,1239,79,23,"animationTimingFunction"],[1,1263,79,49],[1,1266,80,4,"attachedAnimations"],[1,1268,80,23,"forEach"],[1,1276,80,31],[1,1278,81,6,"keyframesRule"],[1,1293,82,8,"name"],[1,1300,83,8,"processedKeyframes"],[1,1322,85,6,"removable"],[1,1338,87,10,"removable"],[1,1341,87,23,"processedKeyframes"],[1,1345,88,8],[1,1347,88,8,"removeCSSAnimation"],[1,1349,88,26,"removeCSSAnimation"],[1,1369,88,27,"name"],[1,1374,91,4,"this"],[1,1379,91,9,"attachedAnimations"],[1,1398,91,30],[1,1399,91,31],[1,1401,92,2],[1,1402,93,2,"updateAttachedAnimations"],[1,1427,93,27,"processedAnimations"],[1,1430,94,4],[1,1436,94,10,"newAttachedAnimations"],[1,1438,94,34],[1,1439,94,35],[1,1441,95,4,"processedAnimations"],[1,1443,95,24,"forEach"],[1,1451,95,32,"processedAnimation"],[1,1455,96,6],[1,1461,96,12,"rule"],[1,1463,96,19,"processedAnimation"],[1,1465,96,38,"keyframesRule"],[1,1479,97,10,"rule"],[1,1481,97,15,"processedKeyframes"],[1,1502,99,8],[1,1504,99,8,"insertCSSAnimation"],[1,1506,99,26,"insertCSSAnimation"],[1,1526,99,27,"rule"],[1,1528,99,32,"name"],[1,1533,99,38,"rule"],[1,1535,99,43,"processedKeyframes"],[1,1555,101,6,"newAttachedAnimations"],[1,1557,101,28,"rule"],[1,1559,101,33,"processedKeyframes"],[1,1579,101,55,"processedAnimation"],[1,1583,103,4,"Object"],[1,1590,103,11,"values"],[1,1597,103,18,"this"],[1,1602,103,23,"attachedAnimations"],[1,1622,103,43,"forEach"],[1,1630,103,51],[1,1632,104,6,"keyframesRule"],[1,1646,104,21,"rule"],[1,1648,105,6,"removable"],[1,1664,107,10,"removable"],[1,1667,107,23,"rule"],[1,1669,107,28,"processedKeyframes"],[1,1690,107,51,"newAttachedAnimations"],[1,1692,107,73,"rule"],[1,1694,107,78,"processedKeyframes"],[1,1716,108,8],[1,1718,108,8,"removeCSSAnimation"],[1,1720,108,26,"removeCSSAnimation"],[1,1740,108,27,"rule"],[1,1742,108,32,"name"],[1,1750,111,4,"this"],[1,1755,111,9,"attachedAnimations"],[1,1774,111,30,"newAttachedAnimations"],[1,1775,112,2],[1,1776,113,2,"setElementAnimations"],[1,1797,113,23,"animationNames"],[1,1799,113,39,"animationSettings"],[1,1802,114,4,"this"],[1,1807,114,9,"element"],[1,1815,114,17,"style"],[1,1821,114,23,"animationName"],[1,1835,114,39,"animationNames"],[1,1837,114,54,"join"],[1,1842,114,59],[1,1847,115,4,"this"],[1,1852,115,9,"element"],[1,1860,115,17,"style"],[1,1866,115,23,"animationDuration"],[1,1885,115,43],[1,1887,115,43,"maybeAddSuffixes"],[1,1889,115,59,"maybeAddSuffixes"],[1,1907,115,60,"animationSettings"],[1,1909,115,79],[1,1929,115,100],[1,1935,115,106,"join"],[1,1940,115,111],[1,1945,116,4,"this"],[1,1950,116,9,"element"],[1,1958,116,17,"style"],[1,1964,116,23,"animationDelay"],[1,1980,116,40],[1,1982,116,40,"maybeAddSuffixes"],[1,1984,116,56,"maybeAddSuffixes"],[1,2002,116,57,"animationSettings"],[1,2004,116,76],[1,2021,116,94],[1,2027,116,100,"join"],[1,2032,116,105],[1,2037,117,8,"animationSettings"],[1,2039,117,26,"animationIterationCount"],[1,2065,118,6,"this"],[1,2070,118,11,"element"],[1,2078,118,19,"style"],[1,2084,118,25,"animationIterationCount"],[1,2108,118,51,"animationSettings"],[1,2110,118,69,"animationIterationCount"],[1,2134,118,93,"join"],[1,2139,118,98],[1,2145,120,8,"animationSettings"],[1,2147,120,26,"animationDirection"],[1,2168,121,6,"this"],[1,2173,121,11,"element"],[1,2181,121,19,"style"],[1,2187,121,25,"animationDirection"],[1,2206,121,46,"animationSettings"],[1,2208,121,64,"animationDirection"],[1,2227,121,83,"map"],[1,2231,121,87,"kebabizeCamelCase"],[1,2233,121,104,"kebabizeCamelCase"],[1,2252,121,106,"join"],[1,2257,121,111],[1,2263,123,8,"animationSettings"],[1,2265,123,26,"animationFillMode"],[1,2285,124,6,"this"],[1,2290,124,11,"element"],[1,2298,124,19,"style"],[1,2304,124,25,"animationFillMode"],[1,2322,124,45,"animationSettings"],[1,2324,124,63,"animationFillMode"],[1,2342,124,81,"join"],[1,2347,124,86],[1,2353,126,8,"animationSettings"],[1,2355,126,26,"animationPlayState"],[1,2376,127,6,"this"],[1,2381,127,11,"element"],[1,2389,127,19,"style"],[1,2395,127,25,"animationPlayState"],[1,2414,127,46,"animationSettings"],[1,2416,127,64,"animationPlayState"],[1,2435,127,83,"join"],[1,2440,127,88],[1,2446,129,8,"animationSettings"],[1,2448,129,26,"animationTimingFunction"],[1,2474,130,6,"this"],[1,2479,130,11,"element"],[1,2487,130,19,"style"],[1,2493,130,25,"animationTimingFunction"],[1,2518,130,51],[1,2520,130,51,"parseTimingFunction"],[1,2522,130,70,"parseTimingFunction"],[1,2543,130,71,"animationSettings"],[1,2545,130,89,"animationTimingFunction"],[1,2570,132,2],[1,2572,133,1],[1,2575]],"functionMap":{"names":["<global>","isCSSKeyframesRuleImpl","CSSAnimationsManager","constructor","update","definitions.map$argument_0","processedAnimations.map$argument_0","unmountCleanup","detach","attachedAnimations.forEach$argument_0","updateAttachedAnimations","processedAnimations.forEach$argument_0","Object.values.forEach$argument_0","setElementAnimations"],"mappings":"AAA;+BCO,+ED;eEC;ECG;GDG;EEC;gDCa;KD0B;mDEC;cFI;GFG;EKC;GLI;EMC;+BCW;KDU;GNE;EQC;gCCE;KDO;mDEC;KFO;GRE;EWC;GXmB;CFC"},"hasCjsExports":false},"type":"js/module"}]}